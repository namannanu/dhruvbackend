{
  "info": {
    "_postman_id": "b986c5ec-bf62-4abb-8a8d-1f25ab0fcbe9",
    "name": "WorkConnect API - Complete Suite",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Comprehensive API collection for WorkConnect platform including job applications, employment tracking, and advanced attendance management with search functionality."
  },
  "item": [
    {
      "name": "Worker Flows",
      "description": "Requests an authenticated worker can use to find jobs and manage their applications.",
      "item": [
        {
          "name": "List Active Jobs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/jobs?status=active",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                }
              ]
            }
          }
        },
        {
          "name": "List My Applications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/applications/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "applications",
                "me"
              ]
            },
            "description": "Returns the authenticated worker's applications sorted newest-first."
          }
        },
        {
          "name": "Apply To Job",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Hi! I have 3 years of experience in hospitality and can start immediately.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}/applications",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "{{jobId}}",
                "applications"
              ]
            },
            "description": "Submit a job application for the specified jobId using the authenticated worker context."
          },
          "response": []
        },
        {
          "name": "Withdraw Application",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"withdrawn\",\n  \"message\": \"Optional context for withdrawing this application.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/applications/{{applicationId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "applications",
                "{{applicationId}}"
              ]
            },
            "description": "Withdraw the authenticated worker's application or update the message on an existing application."
          }
        },
        {
          "name": "List Applications By Worker Id",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/applications?workerId={{workerId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "applications"
              ],
              "query": [
                {
                  "key": "workerId",
                  "value": "{{workerId}}"
                }
              ]
            },
            "description": "Fetch applications for a specific workerId (useful when querying as an admin or employer)."
          }
        },
        {
          "name": "List Attendance Schedule",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/workers/{{workerId}}/attendance?status=all&from=2025-01-01&to=2025-12-31",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "workers",
                "{{workerId}}",
                "attendance"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "all",
                  "description": "Optional status filter (scheduled, clocked-in, completed, missed)"
                },
                {
                  "key": "from",
                  "value": "2025-01-01",
                  "description": "Optional start date (YYYY-MM-DD) to bound the schedule window"
                },
                {
                  "key": "to",
                  "value": "2025-12-31",
                  "description": "Optional end date (YYYY-MM-DD) to bound the schedule window"
                },
                {
                  "key": "jobId",
                  "value": "",
                  "description": "Filter schedule entries for a specific job"
                },
                {
                  "key": "businessId",
                  "value": "",
                  "description": "Filter schedule entries for a specific business"
                }
              ]
            },
            "description": "Returns the worker's attendance records including scheduled, completed, and upcoming shifts."
          }
        },
        {
          "name": "Get Worker Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/workers/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "workers",
                "me"
              ]
            },
            "description": "Get the authenticated worker's profile information including employment status and hire date."
          }
        }
      ]
    },
    {
      "name": "Employer Flows",
      "description": "Requests an authenticated employer can use to review, reject, or hire applicants across their jobs.",
      "item": [
        {
          "name": "List Employer Applications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/employers/me/applications?status=pending&limit=20&page=1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "employers",
                "me",
                "applications"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "pending"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "page",
                  "value": "1"
                }
              ]
            },
            "description": "Paginated list of applications tied to jobs owned by the authenticated employer. Supports status, jobId, businessId, search, sortBy, and sortOrder query params."
          }
        },
        {
          "name": "Update Application Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"rejected\",\n  \"message\": \"Thanks for applying, but we've moved forward with another candidate.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/employers/me/applications/{{applicationId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "employers",
                "me",
                "applications",
                "{{applicationId}}"
              ]
            },
            "description": "Update the status or message for an application owned by one of the employer's jobs."
          }
        },
        {
          "name": "Hire Applicant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/jobs/applications/{{applicationId}}/hire",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "applications",
                "{{applicationId}}",
                "hire"
              ]
            },
            "description": "Mark an application as hired. This creates a WorkerEmployment record, rejects other applicants, updates job stats, and fills the job posting with hire date tracking."
          }
        },
        {
          "name": "List Applications For Job",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}/applications",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "{{jobId}}",
                "applications"
              ]
            },
            "description": "List applications scoped to a specific job posting owned by the authenticated employer."
          }
        },
        {
          "name": "List Employer Applications By Id",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/employers/{{employerId}}/applications",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "employers",
                "{{employerId}}",
                "applications"
              ]
            },
            "description": "Fetch applications for a specific employerId (useful when testing admin/impersonation scenarios)."
          }
        }
      ]
    }
    ,
    {
      "name": "Employment Tracking",
      "description": "Worker employment history and employer worker management endpoints for tracking hire dates and employment status.",
      "item": [
        {
          "name": "Get My Employment History (Worker)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/workers/me/employment/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "workers",
                "me",
                "employment",
                "history"
              ]
            },
            "description": "Returns the authenticated worker's complete employment history with employers, businesses, and job details."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/workers/me/employment/history",
                  "host": ["{{baseUrl}}"],
                  "path": ["workers", "me", "employment", "history"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"status\": \"success\",\n  \"results\": 2,\n  \"data\": [\n    {\n      \"_id\": \"employment123\",\n      \"hireDate\": \"2025-01-15T00:00:00.000Z\",\n      \"endDate\": null,\n      \"employmentStatus\": \"active\",\n      \"position\": \"Dishwasher\",\n      \"hourlyRate\": 18,\n      \"workLocation\": \"Downtown Restaurant\",\n      \"employer\": {\n        \"firstName\": \"John\",\n        \"lastName\": \"Smith\",\n        \"email\": \"john@restaurant.com\"\n      },\n      \"business\": {\n        \"name\": \"Downtown Bistro\",\n        \"address\": \"123 Main St\"\n      },\n      \"job\": {\n        \"title\": \"Dishwasher\",\n        \"description\": \"Kitchen support role\",\n        \"hourlyRate\": 18\n      }\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get My Current Employment (Worker)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/workers/me/employment/current",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "workers",
                "me",
                "employment",
                "current"
              ]
            },
            "description": "Returns the authenticated worker's current active employment details if any."
          }
        },
        {
          "name": "Get My Scheduled Dates (Worker)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/workers/me/employment/scheduled-dates?startDate=2025-01-01&endDate=2025-12-31",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "workers",
                "me",
                "employment",
                "scheduled-dates"
              ],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Optional start date filter (YYYY-MM-DD)"
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "description": "Optional end date filter (YYYY-MM-DD)"
                },
                {
                  "key": "employmentId",
                  "value": "",
                  "description": "Filter by specific employment record"
                }
              ]
            },
            "description": "Returns the worker's scheduled dates based on their employment history and job schedules."
          }
        },
        {
          "name": "End My Employment (Worker)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{workerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Found better opportunity\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/workers/me/employment/end",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "workers",
                "me",
                "employment",
                "end"
              ]
            },
            "description": "Allows a worker to end their current active employment (quit/resign)."
          }
        },
        {
          "name": "Get My Workers (Employer)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/employers/me/workers?status=active",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "employers",
                "me",
                "workers"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "active",
                  "description": "Filter by employment status: active, terminated, all"
                }
              ]
            },
            "description": "Returns all workers hired by the authenticated employer with their employment details."
          }
        },
        {
          "name": "Get Worker Employment History (Employer)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/employers/me/workers/{{workerId}}/employment",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "employers",
                "me",
                "workers",
                "{{workerId}}",
                "employment"
              ]
            },
            "description": "Returns employment history for a specific worker hired by this employer."
          }
        },
        {
          "name": "Get Workers Scheduled Dates (Employer)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/employers/me/workers/scheduled-dates?startDate=2025-01-01&endDate=2025-12-31&status=active",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "employers",
                "me",
                "workers",
                "scheduled-dates"
              ],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Optional start date filter (YYYY-MM-DD)"
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "description": "Optional end date filter (YYYY-MM-DD)"
                },
                {
                  "key": "status",
                  "value": "active",
                  "description": "Employment status filter: active, terminated, all"
                }
              ]
            },
            "description": "Returns scheduled dates for all workers hired by this employer."
          }
        },
        {
          "name": "Terminate Worker Employment (Employer)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Performance issues\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/employers/me/workers/{{workerId}}/terminate",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "employers",
                "me",
                "workers",
                "{{workerId}}",
                "terminate"
              ]
            },
            "description": "Allows an employer to terminate a worker's active employment."
          }
        }
      ]
    },
    {
      "name": "Attendance Management",
      "description": "Enhanced attendance management with comprehensive search functionality for employers and workers.",
      "item": [
        {
          "name": "Get Attendance Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/attendance/management?date={{attendanceDate}}&status=all",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance",
                "management"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "{{attendanceDate}}"
                },
                {
                  "key": "status",
                  "value": "all"
                }
              ]
            },
            "description": "Returns attendance records formatted for the dashboard view along with summary metrics for the selected date."
          }
        },
        {
          "name": "Search Attendance Records",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/attendance?workerName=Miguel&startDate=2025-01-01&endDate=2025-12-31&status=completed&includeEmploymentDetails=true",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance"
              ],
              "query": [
                {
                  "key": "workerId",
                  "value": "",
                  "description": "Filter by specific worker ID"
                },
                {
                  "key": "workerName",
                  "value": "Miguel",
                  "description": "Search by worker name (partial match)"
                },
                {
                  "key": "businessId",
                  "value": "",
                  "description": "Filter by business ID"
                },
                {
                  "key": "date",
                  "value": "",
                  "description": "Filter by specific date (YYYY-MM-DD)"
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Start date for range filter (YYYY-MM-DD)"
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "description": "End date for range filter (YYYY-MM-DD)"
                },
                {
                  "key": "status",
                  "value": "completed",
                  "description": "Status filter: scheduled, clocked-in, completed, missed, all"
                },
                {
                  "key": "employmentStatus",
                  "value": "",
                  "description": "Employment status filter: active, terminated"
                },
                {
                  "key": "includeEmploymentDetails",
                  "value": "true",
                  "description": "Include employment history in response"
                }
              ]
            },
            "description": "Enhanced search for attendance records with multiple filter options and employment details."
          }
        },
        {
          "name": "Search Workers by Name",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/attendance/search/workers?name=Miguel&includeSchedule=true",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance",
                "search",
                "workers"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "Miguel",
                  "description": "Worker name to search for (partial matching)"
                },
                {
                  "key": "includeSchedule",
                  "value": "true",
                  "description": "Include recent schedule data in response"
                }
              ]
            },
            "description": "Search for workers by name and retrieve their employment history and recent schedule data."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/attendance/search/workers?name=Miguel&includeSchedule=true",
                  "host": ["{{baseUrl}}"],
                  "path": ["attendance", "search", "workers"],
                  "query": [
                    {"key": "name", "value": "Miguel"},
                    {"key": "includeSchedule", "value": "true"}
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"status\": \"success\",\n  \"results\": 1,\n  \"data\": [\n    {\n      \"worker\": {\n        \"id\": \"worker123\",\n        \"name\": \"Miguel Johnson\",\n        \"email\": \"miguel@example.com\",\n        \"phone\": \"+1234567890\"\n      },\n      \"employmentHistory\": [\n        {\n          \"employmentId\": \"emp123\",\n          \"employer\": {\n            \"firstName\": \"John\",\n            \"lastName\": \"Smith\"\n          },\n          \"business\": {\n            \"name\": \"Downtown Bistro\"\n          },\n          \"position\": \"Dishwasher\",\n          \"hireDate\": \"2025-01-15T00:00:00.000Z\",\n          \"employmentStatus\": \"active\",\n          \"hourlyRate\": 18\n        }\n      ],\n      \"currentEmployment\": {\n        \"employmentId\": \"emp123\",\n        \"position\": \"Dishwasher\",\n        \"hireDate\": \"2025-01-15T00:00:00.000Z\"\n      },\n      \"recentSchedule\": [\n        {\n          \"date\": \"2025-09-27\",\n          \"scheduledStart\": \"18:00\",\n          \"scheduledEnd\": \"22:00\",\n          \"status\": \"scheduled\"\n        }\n      ]\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Worker Employment Timeline",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/attendance/timeline/worker/{{workerId}}?startDate=2025-01-01&endDate=2025-12-31",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance",
                "timeline",
                "worker",
                "{{workerId}}"
              ],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Optional start date filter for attendance records"
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "description": "Optional end date filter for attendance records"
                }
              ]
            },
            "description": "Get comprehensive employment timeline for a specific worker including employment history and attendance records."
          }
        },
        {
          "name": "Get Workers Employed on Date",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/attendance/employed-on/{{attendanceDate}}?includeSchedule=true",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance",
                "employed-on",
                "{{attendanceDate}}"
              ],
              "query": [
                {
                  "key": "includeSchedule",
                  "value": "true",
                  "description": "Include schedule information for the specified date"
                }
              ]
            },
            "description": "Find all workers who were employed on a specific date with their employment details and optional schedule info."
          }
        },
        {
          "name": "Schedule Attendance Record",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"worker\": \"{{workerId}}\",\n  \"job\": \"{{jobId}}\",\n  \"scheduledStart\": \"2025-09-27T18:00:00.000Z\",\n  \"scheduledEnd\": \"2025-09-27T22:00:00.000Z\",\n  \"hourlyRate\": 18,\n  \"notes\": \"Dinner shift coverage\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/attendance",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance"
              ]
            },
            "description": "Create a scheduled attendance record for a worker. Requires an employer token and valid worker/job IDs."
          }
        },
        {
          "name": "Mark Shift Complete",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/attendance/{{attendanceRecordId}}/mark-complete",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance",
                "{{attendanceRecordId}}",
                "mark-complete"
              ]
            },
            "description": "Marks a clocked-in shift as completed using the scheduled end time to finalise hours and earnings."
          }
        },
        {
          "name": "Update Attendance Hours",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"totalHours\": 4,\n  \"hourlyRate\": 18\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/attendance/{{attendanceRecordId}}/hours",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance",
                "{{attendanceRecordId}}",
                "hours"
              ]
            },
            "description": "Adjust the total hours (and optionally hourly rate) for a completed attendance record."
          }
        }
      ]
    },
    {
      "name": "Team Management",
      "description": "Manage team access and permissions for userId-based data management. Grant access to admins/staff to manage your data.",
      "item": [
        {
          "name": "Grant Team Access",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetUserId\": \"{{managerId}}\",\n  \"managedUserId\": \"{{userId}}\",\n  \"role\": \"manager\",\n  \"permissions\": {\n    \"canCreateJobs\": true,\n    \"canEditJobs\": true,\n    \"canViewJobs\": true,\n    \"canHireWorkers\": true,\n    \"canCreateAttendance\": true,\n    \"canViewAttendance\": true\n  },\n  \"restrictions\": {\n    \"startDate\": \"2025-10-01\",\n    \"endDate\": \"2025-12-31\"\n  },\n  \"expiresAt\": \"2025-12-31T23:59:59.000Z\",\n  \"reason\": \"Temporary manager access for Q4 operations\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/team/grant-access",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "team",
                "grant-access"
              ]
            },
            "description": "Grant team access to another user to manage your data. Allows delegation of job, attendance, and application management."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"targetUserId\": \"manager123\",\n  \"managedUserId\": \"A1B2C3D4\",\n  \"role\": \"manager\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/team/grant-access",
                  "host": ["{{baseUrl}}"],
                  "path": ["team", "grant-access"]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"status\": \"success\",\n  \"message\": \"manager access granted successfully\",\n  \"data\": {\n    \"teamAccess\": {\n      \"_id\": \"team_access_123\",\n      \"managedUserId\": \"A1B2C3D4\",\n      \"role\": \"manager\",\n      \"status\": \"active\",\n      \"permissions\": {\n        \"canCreateJobs\": true,\n        \"canEditJobs\": true,\n        \"canViewJobs\": true,\n        \"canHireWorkers\": true\n      }\n    },\n    \"summary\": {\n      \"grantedTo\": \"Jane Manager\",\n      \"managedUserData\": \"Miguel Johnson (A1B2C3D4)\",\n      \"role\": \"manager\"\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "List My Team Members",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/team/my-team",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "team",
                "my-team"
              ]
            },
            "description": "List all team members who have access to manage my data."
          }
        },
        {
          "name": "List My Managed Access",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{managerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/team/my-access",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "team",
                "my-access"
              ]
            },
            "description": "List all userIds I have been granted access to manage."
          }
        },
        {
          "name": "Check Team Access",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{managerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/team/check-access/{{userId}}?permission=canCreateJobs",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "team",
                "check-access",
                "{{userId}}"
              ],
              "query": [
                {
                  "key": "permission",
                  "value": "canCreateJobs",
                  "description": "Specific permission to check"
                }
              ]
            },
            "description": "Check if I have access to manage data for a specific userId and permission."
          }
        },
        {
          "name": "Update Team Permissions",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"staff\",\n  \"permissions\": {\n    \"canCreateJobs\": false,\n    \"canEditJobs\": false,\n    \"canViewJobs\": true,\n    \"canViewAttendance\": true\n  },\n  \"expiresAt\": \"2025-11-30T23:59:59.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/team/access/{{teamAccessId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "team",
                "access",
                "{{teamAccessId}}"
              ]
            },
            "description": "Update permissions and settings for an existing team access grant."
          }
        },
        {
          "name": "Revoke Team Access",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Project completed, access no longer needed\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/team/access/{{teamAccessId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "team",
                "access",
                "{{teamAccessId}}"
              ]
            },
            "description": "Revoke team access for a user."
          }
        },
        {
          "name": "Get Access Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employerToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/team/report/{{userId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "team",
                "report",
                "{{userId}}"
              ]
            },
            "description": "Get comprehensive access report showing all team members with access to a userId's data."
          }
        }
      ]
    },
    {
      "name": "User Data by UserId (Public)",
      "description": "Public endpoints to fetch comprehensive user data using randomly generated userId. No authentication required.",
      "item": [
        {
          "name": "Get User Basic Info by UserId",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/userId/{{userId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "userId",
                "{{userId}}"
              ]
            },
            "description": "Get basic user information and profile using the randomly generated userId. No authentication required."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/users/userId/A1B2C3D4",
                  "host": ["{{baseUrl}}"],
                  "path": ["users", "userId", "A1B2C3D4"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"userId\": \"A1B2C3D4\",\n      \"name\": \"Miguel Johnson\",\n      \"email\": \"miguel@example.com\",\n      \"userType\": \"worker\",\n      \"phone\": \"+1234567890\",\n      \"premium\": false\n    },\n    \"profile\": {\n      \"bio\": \"Experienced dishwasher\",\n      \"skills\": [\"Dishwashing\", \"Kitchen Cleaning\"],\n      \"experience\": \"3 years\",\n      \"rating\": 4.5,\n      \"completedJobs\": 15,\n      \"totalEarnings\": 2500\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get All User Data by UserId",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/userId/{{userId}}/all-data?includeJobs=true&includeApplications=true&includeAttendance=true&includeEmployment=true&startDate=2025-01-01&endDate=2025-12-31",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "users",
                "userId",
                "{{userId}}",
                "all-data"
              ],
              "query": [
                {
                  "key": "includeJobs",
                  "value": "true",
                  "description": "Include jobs data (default: true)"
                },
                {
                  "key": "includeApplications", 
                  "value": "true",
                  "description": "Include applications data (default: true)"
                },
                {
                  "key": "includeAttendance",
                  "value": "true", 
                  "description": "Include attendance data (default: true)"
                },
                {
                  "key": "includeEmployment",
                  "value": "true",
                  "description": "Include employment data (default: true)"
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Filter data from this date (YYYY-MM-DD)"
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31", 
                  "description": "Filter data until this date (YYYY-MM-DD)"
                }
              ]
            },
            "description": "Get comprehensive user data including jobs, applications, attendance, and employment records using userId. Supports date filtering and module selection."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/users/userId/A1B2C3D4/all-data?includeJobs=true&includeApplications=true",
                  "host": ["{{baseUrl}}"],
                  "path": ["users", "userId", "A1B2C3D4", "all-data"],
                  "query": [
                    {"key": "includeJobs", "value": "true"},
                    {"key": "includeApplications", "value": "true"}
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"userId\": \"A1B2C3D4\",\n      \"name\": \"Miguel Johnson\",\n      \"email\": \"miguel@example.com\",\n      \"userType\": \"worker\",\n      \"phone\": \"+1234567890\",\n      \"premium\": false\n    },\n    \"profile\": {\n      \"bio\": \"Experienced dishwasher\",\n      \"skills\": [\"Dishwashing\", \"Kitchen Cleaning\"],\n      \"experience\": \"3 years\",\n      \"rating\": 4.5\n    },\n    \"jobs\": {\n      \"postedJobs\": [],\n      \"hiredJobs\": [\n        {\n          \"_id\": \"job123\",\n          \"title\": \"Dishwasher Position\",\n          \"hourlyRate\": 18,\n          \"status\": \"filled\"\n        }\n      ],\n      \"total\": 1\n    },\n    \"applications\": {\n      \"workerApplications\": [\n        {\n          \"_id\": \"app123\",\n          \"status\": \"hired\",\n          \"job\": {\n            \"title\": \"Dishwasher Position\",\n            \"hourlyRate\": 18\n          }\n        }\n      ],\n      \"employerApplications\": [],\n      \"total\": 1\n    },\n    \"summary\": {\n      \"totalJobs\": 1,\n      \"totalApplications\": 1,\n      \"totalAttendanceRecords\": 5,\n      \"totalEmploymentRecords\": 1\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Jobs by UserId",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/user/{{userId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "user",
                "{{userId}}"
              ]
            },
            "description": "Get all jobs related to a user (both posted and hired jobs) using userId."
          }
        },
        {
          "name": "Get Applications by UserId",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/applications/user/{{userId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "applications",
                "user",
                "{{userId}}"
              ]
            },
            "description": "Get all applications related to a user (both worker applications and applications to employer's jobs) using userId."
          }
        },
        {
          "name": "Get Attendance by UserId",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/attendance/user/{{userId}}?startDate=2025-01-01&endDate=2025-12-31&status=completed",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "attendance",
                "user",
                "{{userId}}"
              ],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Filter attendance from this date"
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "description": "Filter attendance until this date"
                },
                {
                  "key": "status",
                  "value": "completed",
                  "description": "Filter by attendance status"
                }
              ]
            },
            "description": "Get all attendance records related to a user using userId with optional date and status filtering."
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://dhruvbackend.vercel.app/api"
    },
    {
      "key": "workerToken",
      "value": "",
      "type": "string",
      "description": "JWT for an authenticated worker user"
    },
    {
      "key": "employerToken",
      "value": "",
      "type": "string",
      "description": "JWT for an authenticated employer user"
    },
    {
      "key": "jobId",
      "value": "",
      "type": "string",
      "description": "ObjectId of an active job"
    },
    {
      "key": "workerId",
      "value": "",
      "type": "string",
      "description": "ObjectId of the worker whose applications you want to list"
    },
    {
      "key": "applicationId",
      "value": "",
      "type": "string",
      "description": "ObjectId of the application you want to manage"
    },
    {
      "key": "employerId",
      "value": "",
      "type": "string",
      "description": "ObjectId of the employer whose applications you want to list"
    },
    {
      "key": "attendanceRecordId",
      "value": "",
      "type": "string",
      "description": "ObjectId of the attendance record you want to manage"
    },
    {
      "key": "attendanceDate",
      "value": "2025-09-27",
      "type": "string",
      "description": "ISO date (YYYY-MM-DD) used when querying the attendance dashboard"
    },
    {
      "key": "employmentId",
      "value": "",
      "type": "string",
      "description": "ObjectId of the employment record you want to query"
    },
    {
      "key": "userId",
      "value": "A1B2C3D4",
      "type": "string",
      "description": "Randomly generated 8-character userId for accessing user data without authentication"
    },
    {
      "key": "sampleLocationData",
      "value": "{\n  \"formattedAddress\": \"123 Business St, Miami, FL 33101, USA\",\n  \"name\": \"ABC Company Office\",\n  \"placeId\": \"ChIJd8BlQ2BZwokRAFQEcDuMONE\",\n  \"latitude\": 25.7617,\n  \"longitude\": -80.1918,\n  \"allowedRadius\": 150,\n  \"notes\": \"Main office entrance - use parking lot GPS coordinates\",\n  \"isActive\": true,\n  \"timezone\": \"America/New_York\"\n}",
      "type": "string",
      "description": "Sample Google Places API location data structure for businesses and jobs with GPS coordinates and geofencing"
    }
  ]
}
